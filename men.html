<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Men's Collection - Modern Clothes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="men">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top bg-white shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand me-auto" href="index.html">Modern Clothes</a>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
                aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Modern Clothes</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link mx-lg-2" href="index.html"><span data-translate="navHome">Home</span></a>
                        </li>

                        <li class="nav-item dropdown">
                            <a class="nav-link mx-lg-2 dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                <span data-translate="footerCategories">Category</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item active" href="men.html"><span data-translate="navMen">Men</span></a></li>
                                <li><a class="dropdown-item" href="women.html"><span data-translate="navWomen">Women</span></a></li>
                                <li><a class="dropdown-item" href="kids.html"><span data-translate="navKids">Kids</span></a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-lg-2" href="about.html"><span data-translate="navAbout">About Us</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-lg-2" href="contact.html"><span data-translate="navContact">Contact Us</span></a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link mx-lg-2 dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                <span data-translate="navLanguage">English</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item kh" href="#">Khmer</a></li>
                                <li><a class="dropdown-item us" href="#">English</a></li>
                            </ul>
                        </li>
                    </ul>
                    <a href="#" class="login-button d-lg-none mt-3"><span data-translate="navLogin">Login</span></a>
                </div>
            </div>
            
            <a href="#" class="login-button ms-3 d-none d-lg-block"><span data-translate="navLogin">Login</span></a>
            <button class="navbar-toggler pe-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="container">
            <a href="index.html">Home</a> / <span>Men</span>
        </div>
    </div>

    <!-- Page Header -->
    <section class="page-header">
        <h1>Men's Collection</h1>
        <p>Discover stylish and comfortable clothing for men</p>
    </section>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Sidebar Filters -->
        <aside class="sidebar">
            <div class="filter-toggle" id="filterToggle">
                <span>Filters</span>
                <i class="toggle-icon" id="toggleIcon">‚ò∞</i>
            </div>
            <div class="filter-section">
                <h3>Categories</h3>
                <div class="filter-option">
                    <input type="checkbox" id="shirts" checked>
                    <label for="shirts">Shirts</label>
                    <span class="filter-count">(28)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="pants">
                    <label for="pants">Pants</label>
                    <span class="filter-count">(22)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="jackets">
                    <label for="jackets">Jackets</label>
                    <span class="filter-count">(18)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="tshirts">
                    <label for="tshirts">T-Shirts</label>
                    <span class="filter-count">(24)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="suits">
                    <label for="suits">Suits</label>
                    <span class="filter-count">(12)</span>
                </div>
            </div>

            <div class="filter-section">
                <h3>Size</h3>
                <div class="filter-option">
                    <input type="checkbox" id="s">
                    <label for="s">S</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="m">
                    <label for="m">M</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="l">
                    <label for="l">L</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="xl">
                    <label for="xl">XL</label>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="xxl">
                    <label for="xxl">XXL</label>
                </div>
            </div>

            <div class="filter-section">
                <h3>Price Range</h3>
                <div class="price-range">
                    <input type="number" class="price-input" placeholder="Min" value="0">
                    <span>-</span>
                    <input type="number" class="price-input" placeholder="Max" value="500">
                </div>
            </div>

            <div class="filter-section">
                <h3>Color</h3>
                <div class="filter-option">
                    <input type="checkbox" id="black">
                    <label for="black">Black</label>
                    <span class="filter-count">(38)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="white">
                    <label for="white">White</label>
                    <span class="filter-count">(32)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="blue">
                    <label for="blue">Blue</label>
                    <span class="filter-count">(28)</span>
                </div>
                <div class="filter-option">
                    <input type="checkbox" id="gray">
                    <label for="gray">Gray</label>
                    <span class="filter-count">(22)</span>
                </div>
            </div>

            <button class="filter-btn">Apply Filters</button>
        </aside>

        <!-- Products Section -->
        <div class="products-section">
            <div class="products-header">
                <div class="products-count">Showing 1-12 of 52 products</div>
                <select class="sort-select">
                    <option>Sort by: Featured</option>
                    <option>Price: Low to High</option>
                    <option>Price: High to Low</option>
                    <option>Newest First</option>
                    <option>Best Selling</option>
                </select>
            </div>

            <div class="products-grid">
                <!-- Product 1 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (15).jpg" alt="Classic Leather Jacket">
                        <span class="product-tag new">New</span>
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">URBAN STYLE</div>
                        <div class="product-name">Classic Leather Jacket</div>
                        <div class="product-price">$199.99</div>
                        <div class="product-colors">
                            <div class="color-dot" style="background: #000;"></div>
                            <div class="color-dot" style="background: #78350f;"></div>
                        </div>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (16).jpg" alt="Slim Fit Dress Shirt">
                        <span class="product-tag sale">Sale -25%</span>
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">FORMAL WEAR</div>
                        <div class="product-name">Slim Fit Dress Shirt</div>
                        <div class="product-price sale">
                            <span class="original">$79.99</span>
                            <span class="discount">$59.99</span>
                        </div>
                        <div class="product-colors">
                            <div class="color-dot" style="background: #fff; border-color: #d1d5db;"></div>
                            <div class="color-dot" style="background: #3b82f6;"></div>
                        </div>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (17).jpg" alt="Denim Jeans">
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">DENIM CO.</div>
                        <div class="product-name">Denim Jeans</div>
                        <div class="product-price">$89.99</div>
                        <div class="product-colors">
                            <div class="color-dot" style="background: #1e40af;"></div>
                            <div class="color-dot" style="background: #000;"></div>
                        </div>
                    </div>
                </div>

                <!-- Product 4 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (18).jpg" alt="Casual T-Shirt">
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">BASIC</div>
                        <div class="product-name">Casual T-Shirt</div>
                        <div class="product-price">$29.99</div>
                        <div class="product-colors">
                            <div class="color-dot" style="background: #000;"></div>
                            <div class="color-dot" style="background: #fff; border-color: #d1d5db;"></div>
                            <div class="color-dot" style="background: #6b7280;"></div>
                        </div>
                    </div>
                </div>

                <!-- Product 5 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (19).jpg" alt="Business Suit">
                        <span class="product-tag new">New</span>
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">EXECUTIVE</div>
                        <div class="product-name">Business Suit</div>
                        <div class="product-price">$399.99</div>
                        <div class="product-colors">
                            <div class="color-dot" style="background: #1f2937;"></div>
                            <div class="color-dot" style="background: #1e40af;"></div>
                        </div>
                    </div>
                </div>

                <!-- Product 6 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (17).jpg" alt="Bomber Jacket">
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">STREETWEAR</div>
                        <div class="product-name">Bomber Jacket</div>
                        <div class="product-price">$149.99</div>
                        <div class="product-colors">
                            <div class="color-dot" style="background: #000;"></div>
                            <div class="color-dot" style="background: #15803d;"></div>
                        </div>
                    </div>
                </div>

                <!-- Product 7 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/New Tork State of Style.jpg" alt="Chino Pants">
                        <span class="product-tag sale">Sale -15%</span>
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">CLASSIC FIT</div>
                        <div class="product-name">Chino Pants</div>
                        <div class="product-price sale">
                            <span class="original">$69.99</span>
                            <span class="discount">$59.99</span>
                        </div>
                    </div>
                </div>

                <!-- Product 8 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (9).jpg" alt="Polo Shirt">
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">SPORT STYLE</div>
                        <div class="product-name">Polo Shirt</div>
                        <div class="product-price">$49.99</div>
                    </div>
                </div>

                <!-- Product 9-12 -->
                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (10).jpg" alt="Wool Coat">
                        <span class="product-tag new">New</span>
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">WINTER WEAR</div>
                        <div class="product-name">Wool Coat</div>
                        <div class="product-price">$249.99</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (11).jpg" alt="Cargo Shorts">
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">SUMMER STYLE</div>
                        <div class="product-name">Cargo Shorts</div>
                        <div class="product-price">$44.99</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (12).jpg" alt="Hoodie">
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">CASUAL</div>
                        <div class="product-name">Hoodie</div>
                        <div class="product-price">$64.99</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        <img src="assets/men picture/download (13).jpg" alt="Blazer">
                        <span class="product-tag sale">Sale -30%</span>
                        <button class="quick-view">Quick View</button>
                        <div class="product-actions">
                            <button class="action-btn">‚ù§Ô∏è</button>
                            <button class="action-btn">üõí</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-brand">SMART CASUAL</div>
                        <div class="product-name">Blazer</div>
                        <div class="product-price sale">
                            <span class="original">$179.99</span>
                            <span class="discount">$125.99</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button>‚ùÆ Previous</button>
                <button class="active">1</button>
                <button>2</button>
                <button>3</button>
                <button>4</button>
                <button>Next ‚ùØ</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-section">
                <h3 data-translate="footerShop">Shop</h3>
                <ul class="footer-links">
                    <li><a href="women.html" data-translate="navWomen">Women</a></li>
                    <li><a href="men.html" data-translate="navMen">Men</a></li>
                    <li><a href="kids.html" data-translate="navKids">Kids</a></li>
                    <li><a href="#" data-translate="tagSale">Sale</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3 data-translate="footerHelp">Help</h3>
                <ul class="footer-links">
                    <li><a href="#" data-translate="footerHelp">Customer Service</a></li>
                    <li><a href="#" data-translate="footerShipping">Shipping Info</a></li>
                    <li><a href="#" data-translate="footerReturns">Returns</a></li>
                    <li><a href="#" data-translate="footerFAQ">FAQ</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3 data-translate="footerAbout">Company</h3>
                <ul class="footer-links">
                    <li><a href="about.html" data-translate="navAbout">About Us</a></li>
                    <li><a href="contact.html" data-translate="navContact">Contact</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p data-translate="footerCopyright">¬© 2025 Modern Clothes. All rights reserved.</p>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
    <script>
    // Product data with attributes for filtering
    const allProducts = [];
    
    // Initialize products with data attributes
    document.querySelectorAll('.product-card').forEach((card, index) => {
        const name = card.querySelector('.product-name').textContent;
        const priceText = card.querySelector('.product-price').textContent.replace('$', '').replace(/[^\d.]/g, '');
        const price = parseFloat(priceText);
        const brand = card.querySelector('.product-brand')?.textContent || '';
        const hasTag = card.querySelector('.product-tag');
        const tag = hasTag ? hasTag.textContent : '';
        
        // Assign categories
        let category = 'shirts';
        if (index % 5 === 1) category = 'pants';
        if (index % 5 === 2) category = 'jackets';
        if (index % 5 === 3) category = 'tshirts';
        if (index % 5 === 4) category = 'suits';
        
        // Assign colors
        const colorDots = card.querySelectorAll('.color-dot');
        const colors = [];
        colorDots.forEach(dot => {
            const bg = dot.style.background;
            if (bg.includes('000') || bg.includes('1f2937')) colors.push('black');
            if (bg.includes('fff')) colors.push('white');
            if (bg.includes('3b82f6') || bg.includes('1e40af')) colors.push('blue');
            if (bg.includes('6b7280')) colors.push('gray');
        });
        
        // Assign sizes
        const sizes = ['s', 'm', 'l', 'xl', 'xxl'];
        
        allProducts.push({
            element: card,
            name,
            price,
            brand,
            category,
            colors,
            sizes,
            tag,
            index
        });
        
        card.dataset.category = category;
        card.dataset.price = price;
        card.dataset.colors = colors.join(',');
        card.dataset.sizes = sizes.join(',');
    });
    
    // Filter and Sort functionality
    function applyFiltersAndSort() {
        const selectedCategories = [];
        document.querySelectorAll('.filter-section:nth-child(2) input[type="checkbox"]:checked').forEach(cb => {
            selectedCategories.push(cb.id);
        });
        
        const selectedSizes = [];
        document.querySelectorAll('.filter-section:nth-child(3) input[type="checkbox"]:checked').forEach(cb => {
            selectedSizes.push(cb.id);
        });
        
        const selectedColors = [];
        document.querySelectorAll('.filter-section:nth-child(5) input[type="checkbox"]:checked').forEach(cb => {
            selectedColors.push(cb.id);
        });
        
        const minPrice = parseFloat(document.querySelector('.price-range input:first-child').value) || 0;
        const maxPrice = parseFloat(document.querySelector('.price-range input:last-child').value) || 999999;
        
        let filteredProducts = allProducts.filter(product => {
            if (selectedCategories.length > 0 && !selectedCategories.includes(product.category)) {
                return false;
            }
            
            if (selectedSizes.length > 0) {
                const hasSize = selectedSizes.some(size => product.sizes.includes(size));
                if (!hasSize) return false;
            }
            
            if (selectedColors.length > 0) {
                const hasColor = selectedColors.some(color => product.colors.includes(color));
                if (!hasColor) return false;
            }
            
            if (product.price < minPrice || product.price > maxPrice) {
                return false;
            }
            
            return true;
        });
        
        const sortValue = document.querySelector('.sort-select').value;
        if (sortValue.includes('Low to High')) {
            filteredProducts.sort((a, b) => a.price - b.price);
        } else if (sortValue.includes('High to Low')) {
            filteredProducts.sort((a, b) => b.price - a.price);
        } else if (sortValue.includes('Newest')) {
            filteredProducts.sort((a, b) => b.index - a.index);
        } else if (sortValue.includes('Best Selling')) {
            filteredProducts.sort((a, b) => {
                const aHasSale = a.tag.toLowerCase().includes('sale');
                const bHasSale = b.tag.toLowerCase().includes('sale');
                if (aHasSale && !bHasSale) return -1;
                if (!aHasSale && bHasSale) return 1;
                return 0;
            });
        }
        
        allProducts.forEach(product => {
            product.element.style.display = 'none';
        });
        
        filteredProducts.forEach(product => {
            product.element.style.display = 'block';
        });
        
        const totalProducts = allProducts.length;
        const visibleProducts = filteredProducts.length;
        const countText = visibleProducts === totalProducts 
            ? `Showing all ${totalProducts} products`
            : `Showing ${visibleProducts} of ${totalProducts} products`;
        document.querySelector('.products-count').textContent = countText;
    }
    
    document.querySelector('.filter-btn').addEventListener('click', applyFiltersAndSort);
    document.querySelector('.sort-select').addEventListener('change', applyFiltersAndSort);
    
    document.querySelectorAll('.filter-option input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', applyFiltersAndSort);
    });
    
    document.querySelectorAll('.price-input').forEach(input => {
        input.addEventListener('change', applyFiltersAndSort);
    });
    
    // --- UPDATED CLICK HANDLERS (Fixed Logic) ---
    document.querySelectorAll('.quick-view').forEach((button, index) => {
        button.addEventListener('click', function(e) {
            e.stopPropagation();
            // Fixed: Use simple index + 1
            const productId = 'm' + (index + 1); 
            window.location.href = 'product-detail.html?id=' + productId;
        });
    });

    document.querySelectorAll('.product-card').forEach((card, index) => {
        card.style.cursor = 'pointer';
        card.addEventListener('click', function(e) {
            if (!e.target.closest('.action-btn') && !e.target.closest('.quick-view')) {
                // Fixed: Use simple index + 1
                const productId = 'm' + (index + 1);
                window.location.href = 'product-detail.html?id=' + productId;
            }
        });
    });
    // ---------------------------------------------

    // Toggle sidebar filter sections
    const filterSections = document.querySelectorAll('.filter-section');
    const toggleBtn = document.getElementById('filterToggle');
    const toggleIcon = document.getElementById('toggleIcon');
    let isOpen = true;

    toggleBtn.addEventListener('click', function() {
        isOpen = !isOpen;
        filterSections.forEach(section => {
            section.style.display = isOpen ? 'block' : 'none';
        });
        document.querySelector('.filter-btn').style.display = isOpen ? 'block' : 'none';
        toggleIcon.textContent = isOpen ? '‚ñ≤' : '‚ñº';
    });
    
    applyFiltersAndSort();
</script>
    
    <!-- Language Switcher Script -->
    <script src="language-switch.js"></script>
</body>
</html>
